<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ひぐらし</title>
    <link rel="stylesheet" href="higurashi.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1 class="torioki-title">お取り置きフォーム</h1>
    <form
      action="https://docs.google.com/forms/d/e/1FAIpQLSeTt5mG61GOFKz8obzeOlFOapif2QwULM1bWjFbEGhFsiZEZQ/formResponse"
      method="POST"
      target="hidden_iframe"
      onsubmit="submitted = true;"
    >
      <label for="name">名前</label>
      <input type="text" id="name" name="entry.1081114060" required />

      <label for="email">Email</label>
      <input type="email" id="email" name="entry.1030881964" required />

      <label for="quantity">枚数</label>
      <input type="number" id="quantity" name="entry.2146905374" required />

      <label for="event">ライブ名</label>
      <input type="text" id="event" name="entry.554495986" required />

      <input type="submit" value="送信" />
    </form>

    <!-- 非表示のiframeで画面遷移を防ぎつつ、送信完了を検知 -->
    <iframe
      name="hidden_iframe"
      id="hidden_iframe"
      style="display: none"
      onload="if (submitted) { showThanks(); }"
    ></iframe>

    <!-- メッセージ表示用 -->
    <p
      id="thank-you-message"
      style="
        display: none;
        color: green;
        font-weight: bold;
        text-align: center;
        margin-top: 2rem;
      "
    >
      送信ありがとうございます！🙌
    </p>

    <script>
      let submitted = false;
      function showThanks() {
        document.querySelector("form").reset(); // フォームをリセット
        document.getElementById("thank-you-message").style.display = "block";
      }
    </script>
  </body>
</html>
